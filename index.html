<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙƒØ«Ø±</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800;900&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:"Cairo",sans-serif;
  background:#0b1220;
  color:#fff;
  overflow-x:hidden;
  padding:20px;
}

/* Ù†ÙØ³ Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
.bgVideo{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-2;
}
.overlay{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,.8));
  z-index:-1;
}

/* ÙÙ‚Ø§Ø¹Ø© */
.card{
  backdrop-filter: blur(18px);
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.15);
  border-radius:28px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 10px 40px rgba(0,0,0,.5);
}

h2{
  margin:0 0 15px;
  font-weight:900;
}

/* ===== iPhone Weather Style ===== */
.weatherMain{
  text-align:center;
}
.weatherMain .temp{
  font-size:60px;
  font-weight:900;
}
.weatherMain .desc{
  opacity:.8;
  font-size:18px;
}

.week{
  margin-top:15px;
}
.dayRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:8px 0;
}
.bar{
  flex:1;
  height:6px;
  margin:0 10px;
  background:rgba(255,255,255,.15);
  border-radius:10px;
  position:relative;
}
.bar span{
  position:absolute;
  height:100%;
  border-radius:10px;
  background:linear-gradient(90deg,#facc15,#f97316);
}

/* ===== Prayer Style ===== */
.prayerRow{
  display:flex;
  justify-content:space-between;
  padding:12px 0;
  border-bottom:1px dashed rgba(255,255,255,.2);
}
.prayerRow:last-child{
  border-bottom:none;
}

/* ===== On this day ===== */
.eventBox{
  text-align:center;
}
.eventBox img{
  width:100%;
  border-radius:20px;
  margin:10px 0;
}
.eventYear{
  font-size:20px;
  font-weight:900;
}
.eventText{
  margin-top:8px;
  opacity:.9;
}
.changeBtn{
  margin-top:10px;
  background:rgba(255,255,255,.15);
  border:none;
  padding:8px 14px;
  border-radius:20px;
  color:#fff;
  cursor:pointer;
}

/* ===== Dua ===== */
.dua{
  font-size:18px;
  line-height:2;
  opacity:.95;
}

.backBtn{
  display:inline-block;
  margin-bottom:20px;
  padding:8px 14px;
  background:rgba(255,255,255,.15);
  border-radius:20px;
  text-decoration:none;
  color:#fff;
}
</style>
</head>

<body>

<video class="bgVideo" autoplay muted loop>
<source src="bg.mp4.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<a href="index.html" class="backBtn">Ø±Ø¬ÙˆØ¹</a>

<!-- ===== Weather ===== -->
<div class="card">
  <h2>Ø§Ù„Ø·Ù‚Ø³ â€” Ø§Ù„Ø¨ØµØ±Ø©</h2>
  <div class="weatherMain">
    <div class="temp" id="tempNow">--Â°</div>
    <div class="desc" id="descNow">ØªØ­Ù…ÙŠÙ„...</div>
  </div>

  <div class="week" id="weekBox"></div>
</div>

<!-- ===== Prayer ===== -->
<div class="card">
  <h2>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© (Ø¬Ø¹ÙØ±ÙŠ)</h2>
  <div id="prayerBox">ØªØ­Ù…ÙŠÙ„...</div>
</div>

<!-- ===== On this day ===== -->
<div class="card eventBox">
  <h2>ÙÙŠ Ù…Ø«Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…</h2>
  <div class="eventYear" id="eventYear">--</div>
  <img id="eventImg" src="">
  <div class="eventText" id="eventText">ØªØ­Ù…ÙŠÙ„...</div>
  <button class="changeBtn" onclick="changeEvent()">ØªØºÙŠÙŠØ±</button>
</div>

<!-- ===== Dua ===== -->
<div class="card">
  <h2>Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…</h2>
  <div class="dua" id="duaText">ØªØ­Ù…ÙŠÙ„...</div>
</div>

<script>

/* ===== Weather API ===== */
async function loadWeather(){
  const lat=30.5, lon=47.8;
  const res=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code&daily=temperature_2m_max,temperature_2m_min&timezone=Asia%2FBaghdad`);
  const data=await res.json();

  document.getElementById("tempNow").textContent=Math.round(data.current.temperature_2m)+"Â°";
  document.getElementById("descNow").textContent="ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹";

  const weekBox=document.getElementById("weekBox");
  weekBox.innerHTML="";
  for(let i=0;i<7;i++){
    const max=data.daily.temperature_2m_max[i];
    const min=data.daily.temperature_2m_min[i];
    weekBox.innerHTML+=`
      <div class="dayRow">
        <span>${Math.round(max)}Â°</span>
        <div class="bar"><span style="width:${max}%"></span></div>
        <span>${Math.round(min)}Â°</span>
      </div>`;
  }
}
loadWeather();

/* ===== Prayer API ===== */
async function loadPrayer(){
  const res=await fetch("https://api.aladhan.com/v1/timingsByCity?city=Basra&country=Iraq&method=3");
  const data=await res.json();
  const t=data.data.timings;

  const box=document.getElementById("prayerBox");
  box.innerHTML=`
  <div class="prayerRow"><span>Ø§Ù„ÙØ¬Ø±</span><span>${t.Fajr}</span></div>
  <div class="prayerRow"><span>Ø§Ù„Ø´Ø±ÙˆÙ‚</span><span>${t.Sunrise}</span></div>
  <div class="prayerRow"><span>Ø§Ù„Ø¸Ù‡Ø±</span><span>${t.Dhuhr}</span></div>
  <div class="prayerRow"><span>Ø§Ù„Ù…ØºØ±Ø¨</span><span>${t.Maghrib}</span></div>
  <div class="prayerRow"><span>Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„</span><span>${t.Midnight}</span></div>
  `;
}
loadPrayer();

/* ===== On this day ===== */
const events=[
{year:"1920",text:"Ø«ÙˆØ±Ø© Ø§Ù„Ø¹Ø´Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ø¹Ø±Ø§Ù‚",img:"https://upload.wikimedia.org/wikipedia/commons/2/27/1920_Iraqi_revolt.jpg"},
{year:"1958",text:"Ø«ÙˆØ±Ø© 14 ØªÙ…ÙˆØ²",img:"https://upload.wikimedia.org/wikipedia/commons/4/4f/14_July_Revolution.jpg"}
];
let index=0;

function changeEvent(){
  index=(index+1)%events.length;
  const e=events[index];
  document.getElementById("eventYear").textContent=e.year;
  document.getElementById("eventText").textContent=e.text;
  document.getElementById("eventImg").src=e.img;
}
changeEvent();

/* ===== Dua ===== */
const duas={
0:"Ø§Ù„Ù„Ù‡Ù… Ø§ÙØªØ­ Ù„ÙŠ Ø£Ø¨ÙˆØ§Ø¨ Ø±Ø­Ù…ØªÙƒ ğŸ¤",
1:"ÙŠØ§ Ø±Ø¨ Ø§Ø¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ù…Ù„ÙŠØ¦Ø§Ù‹ Ø¨Ø§Ù„Ø¨Ø±ÙƒØ© ğŸ¤²"
};
const day=new Date().getDay();
document.getElementById("duaText").textContent=duas[day%2];

</script>

</body>
</html>